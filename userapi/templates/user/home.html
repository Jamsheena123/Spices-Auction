{%extends 'user/base.html'%}
{%load static%}
{%block body_block%}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


<style>

    body {
        background-color: #f2f2f2; /* Set the background color to grey */
    }
    .form-box {
        display: block;
        width: 510px;
        height: auto;
        background: #fff;
        margin: 0 auto;
        padding: 10px 17px;
        -webkit-box-shadow: 2px 2px 3px -1px rgba(0,0,0,0.35);
        margin: 0 auto;
        font-size: 15px;
        border-radius: 7px;
    } 
    /* Popup form */
    .cd-popup {
        position: fixed;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
        opacity: 0;
        visibility: hidden;
        z-index: 10000;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .cd-popup-container {
        background: #fff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.2);
    }

    /* Show popup form when visible */
    .cd-popup.is-visible {
        opacity: 1;
        visibility: visible;
    }


</style>


        <!-- Hero Start -->
        <div class="container-fluid py-5 mb-5 hero-headers" style="background-color: rgba(15, 14, 14, 0.232);">
            <div class="container py-5 ">
                <div class="row g-5 align-items-center">
                    <div class="col-md-12 col-lg-7">
                        <h4 class="mb-3 text-dark">100% Organic Spices</h4>
                        <h1 class="mb-5 display-3 text-dark">Buy and Sell Here...</h1>
                        <div class="position-relative mx-auto">
                            <input class="form-control border-2 border-secondary w-75 py-3 px-4 rounded-pill" type="text" placeholder="Search">
                            <button type="submit" class="btn btn-primary border-2 border-secondary py-3 px-4 position-absolute rounded-pill text-white h-100" style="top: 0; right: 25%;">Submit Now</button>
                        </div>
                        <!-- <div class="position-relative mx-auto">
                            <input class="form-control border-2 border-secondary w-75 py-3 px-4 rounded-pill" type="number" placeholder="Search">
                            <button type="submit" class="btn btn-primary border-2 border-secondary py-3 px-4 position-absolute rounded-pill text-white h-100" style="top: 0; right: 25%;">Submit Now</button>
                        </div> -->
                    </div>
                    <div class="col-md-12 col-lg-5" style="margin-top: 150px;">
                        <div id="carouselId" class="carousel slide position-relative" data-bs-ride="carousel">
                            <div class="carousel-inner" role="listbox">
                                <div class="carousel-item active rounded">
                                    <img src="{% static 'img/hero-img-3.jpg' %}" class="img-fluid w-100 h-100 bg-secondary rounded" alt="First slide">
                                    <a href="#" ></a>
                                </div>
                                <div class="carousel-item rounded">
                                    <img src="{% static 'img/hero-img-4.jpg' %}" class="img-fluid w-100 h-100 rounded" alt="Second slide">
                                    <a href="#" ></a>
                                </div>
                            </div>
                            <button class="carousel-control-prev" type="button" data-bs-target="#carouselId" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#carouselId" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Hero End -->


       
        <div class="container-fluid fruite py-5">
            <div class="container py-5">
                <div class="tab-class text-center">
                    <div class="row g-4">
                        <div class="col-lg-4 text-start mb-4">
                            <h1 >Spices List</h1>
                        </div>
                    </div>
                    
                    <div class="tab-content">
                        <div id="tab-1" class="tab-pane fade show p-0 active">
                            <div class="row g-4">
                              
                                <div class="col-lg-12">
                                    <div class="row g-5">
                                        {%for a in auctions%} 
                                            <div class="col-md-6 col-lg-4 col-xl-3">
                                                <div class="rounded position-relative fruite-item border p-3">
                                                    <div class="fruite-img">
                                                        <img src="{{a.spice.image.url}}" alt="" width="200px" height="170px" style="border-radius: 10px;" >
                                                    </div>
                                                    <div class="p-3">
                                                        <h4>{{a.spice.name}}</h4>
                                                        <p>{{a.spice.description}}</p>
                                                        <div class="d-flex justify-content-between flex-lg-wrap">
                                                            <p class="text-dark fs-6 fw-bold mb-2 ms-5">${{a.starting_bid}} / {{a.spice.stock_quantity}}kg</p>
                                                            <p class="text-dark fs-6 fw-bold mb-2">Ends at: {{a.end_time}}</p>
                                                            <a class="btn border border-dark rounded-pill px-3 py-1 text-dark ms-3" id="show-form-btn"><i class="fa fa-shopping-bag me-2"></i> Place Bid</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        {%endfor%}

                                        <div id="popup-form" class="cd-popup contact" role="alert">
                                            <form action="" method="post" enctype="multipart/form-data" class="form-box">
                                                {% csrf_token %}
                                                {{ form.as_p }}
                                                <input type="submit" value="Add" class="form-control btn btn-outline-dark">
                                            </form>
                                        </div>


                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>      
            </div>
        </div>
        <script>
            
            // Function to show the popup form
        function showForm() {
            $('#popup-form').addClass('is-visible');
        }

        // Function to hide the popup form
        function hideForm() {
            $('#popup-form').removeClass('is-visible');
        }

        // Event listener for the button to show the form
        $(document).ready(function() {
            $('#show-form-btn').click(function() {
                showForm();
            });
            
            // Close the form when clicking outside of it
            $(document).mouseup(function(e) {
                var container = $("#popup-form");
                if (!container.is(e.target) && container.has(e.target).length === 0) {
                    hideForm();
                }
            });
        });

        </script>



        {%endblock%}